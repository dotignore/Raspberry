// Листинг 9.14
// Разрешение проблемы утечки памяти
#include<iostream>
using namespace std;

class SimpleCat{
public:
    SimpleCat(int age, int weight);
    ~SimpleCat(){}
    int GetAge(){return itsAge;}
    int GetWeight(){return itsWeight;}
private:
    int itsAge;
    int itsWeight;
};

SimpleCat::SimpleCat(int age, int weight){
    itsAge = age;
    itsWeight = weight;
}

SimpleCat & TheFunction();

int main(){
    SimpleCat & rCat = TheFunction();
    
    int age = rCat.GetAge();
    
    cout << "rCat " << age << " years old!\n";
    cout << "&rCat: " << &rCat << endl;
    
    //  Как освободить  эту память?
    SimpleCat * pCat = &rCat;
    delete pCat;
    //  на что теперь ссылаться
    
    return 0;
}

SimpleCat &TheFunction(){
    SimpleCat * pFrisky =  new SimpleCat(5,9);
    cout << "pFrisky " << pFrisky << endl;
    return *pFrisky;
}